<!DOCTYPE html>
<html lang="en">

<!-- Christopher He did this page -->
<!-- This displays individual events -->

<head>
    <%- include("../partials/header") %>

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="/stylesheets/clubs.css" />
</head>

<body>
    <%- include("../partials/flash") %>
    <%- include("../partials/navbar") %>

    <!-- Add HTML body here. -->
    <div class="show-container">
        <div class="card-body">
            <h5 class="card-title">
                <%= event['name'] %>
            </h5>
        </div>
        <div class="card-body">
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>Description: </strong><%= event.description %></li>
                <li class="list-group-item"><strong>Author: </strong><%= author.first_name %> <%= author.last_name %></li>
                <li class="list-group-item"><strong>Date: </strong><%= new Date(event.date).toLocaleDateString("en-US") %> <%= new Date(event.date).toLocaleTimeString("en-US") %></li>
                <li class="list-group-item"><strong>Category: </strong><%= event.category %></li>
                <li class="list-group-item"><strong>Admission link: </strong><%= event.admission_link %></li>
            </ul>
        </div>
        <div class="card-body">
            <% if (currentUser && (currentUser.type === 'admin' || parseInt(currentUser.id, 10) === parseInt(event.user_id, 10))) { %>
                <div class="card-body">
                    <a href="/events/<%= event['id'] %>/edit" class="btn btn-success">Edit Event</a>
                </div>
                <% } %>
        </div>
    </div>

    <%- include("../partials/footer") %>
</body>

</html>
